<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="../../img/favicon.ico">

    
    <title>Geocodificación convencional - Geocodificador SCN</title>
    

    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">
    <link href="../../css/highlight.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../..">Geocodificador SCN</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Datos <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../datos/no_disponible/">Modelo de datos</a>
</li>

                        
                            
<li >
    <a href="../../datos/no_disponible/">Lista de proveedores</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../informacion_general/">Información general</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Métodos (endpoints)</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Geocodificación convencional</a>
</li>

        
            
<li >
    <a href="../no_disponible/">Geocodificación inversa</a>
</li>

        
            
<li >
    <a href="../no_disponible/">Autocompletado</a>
</li>

        
            
<li >
    <a href="../no_disponible/">Geocodificación estructurada</a>
</li>

        
            
<li >
    <a href="../no_disponible/">Localización de lugar</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../no_disponible/">Parámetros de la consulta</a>
</li>

                        
                            
<li >
    <a href="../no_disponible/">Formato de la respuesta</a>
</li>

                        
                            
<li >
    <a href="../no_disponible/">Análisis de la respuesta:</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../ejemplos/no_disponible.md">Ejemplos</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../utilidades/no_disponible/">Utilidades</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../informacion_general/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../no_disponible/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#geocodificacion_convencional">geocodificacion_convencional</a></li>
            <li class="second-level"><a href="#construccion-de-la-consulta">Construcción de la consulta</a></li>
                
            <li class="second-level"><a href="#configurar-el-numero-de-resultados">Configurar el número de resultados</a></li>
                
            <li class="second-level"><a href="#consulta-en-un-area-determinada">Consulta en un área determinada</a></li>
                
                <li class="third-level"><a href="#busqueda-por-paises">Búsqueda por países</a></li>
                <li class="third-level"><a href="#busqueda-en-un-area-rectangular">Búsqueda en un área rectangular</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="geocodificacion_convencional">geocodificacion_convencional</h2>
<p><br /></p>
<p>La geocodificación convencional es el proceso de localización de una dirección junto con las coordenadas geográficas de su ubicación.</p>
<p><br /></p>
<h3 id="construccion-de-la-consulta">Construcción de la consulta</h3>
<p>El formato de interrogación a la API se construye a partir de la url de referencia para el método elegido, seguido del signo <code>?</code> y de la secuencia de parámetros que configuran la pregunta separados por el signo <code>&amp;</code>.</p>
<p>Si se desea localizar una dirección que contenta un texto determinado, que es el caso más común, el parámetro a utilizar es <code>text</code>:</p>
<table>
<thead>
<tr>
<th>Parámetro</th>
<th>significado</th>
<th>Tipo</th>
<th>Requerido</th>
<th>Defecto</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td>texto de la dirección a buscar</td>
<td>string</td>
<td>yes</td>
<td>none</td>
<td>Calle Mayor</td>
</tr>
</tbody>
</table>
<p>En el ejemplo siguiente el texto a buscar en la dirección es «<em>murrieta</em>», para lo cual se añade a la url del método de geolocalización convencional <code>https://geocoder-5-ign.larioja.org/v1/search</code>, el signo '?<code>y el parámetro</code>text=murrieta`.</p>
<p><a href="https://geocoder-5-ign.larioja.org/v1/search?text=murrieta">https://geocoder-5-ign.larioja.org/v1/search?text=murrieta</a></p>
<p>Pulsando sobre el enlace anterior se obtiene un fichero en formato GoeJSON que contiene los resultados de la búsqueda que mejor coinciden con el texto <em>murrieta</em>. El fichero con formato GeoJSON puede ser leído en un navegador web (1) o en un procesador de texto.</p>
<p>En este caso los resultados obtenidos son los siguientes:</p>
<blockquote>
<p>BARRIO MURRIETA, Putxeta, Bizkaia, España (-3.091738,43.319819)<br />
CALLE MURRIETA, San Vicente de Barakaldo/San Bizenti-Barakaldo, Bizkaia, España (-2.989928,43.301062)<br />
Calle Marqués de Murrieta, Logroño, La Rioja, España (-2.452761,42.465614)  </p>
</blockquote>
<h3 id="configurar-el-numero-de-resultados">Configurar el número de resultados</h3>
<p>Por defecto la API devuelve hasta 10 resultados. Si se desea un número distinto de resultados se puede configurar en la llamada utilizando el parámetro <code>size</code>.</p>
<table>
<thead>
<tr>
<th>Parámetro</th>
<th>significado</th>
<th>Tipo</th>
<th>Requerido</th>
<th>Defecto</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>size</code></td>
<td>número deseado de resultados</td>
<td>integer</td>
<td>no</td>
<td>10</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>Si en el ejemplo anterior se deseara recibir solamente un único resultado, la sintaxis de la consulta debería ser:</p>
<p><a href="https://geocoder-5-ign.larioja.org/v1/search?text=murrieta&amp;size=1">https://geocoder-5-ign.larioja.org/v1/search?text=murrieta&amp;size=1</a></p>
<p>siendo el resultado obtenido:</p>
<blockquote>
<p>BARRIO MURRIETA, Putxeta, Bizkaia, España (-3.091738,43.319819)  </p>
</blockquote>
<h3 id="consulta-en-un-area-determinada">Consulta en un área determinada</h3>
<p>Es posible constreñir la búsqueda de direcciones a una región o país en particular, o limitarla a un área específica. La API Pelias que utiliza el geocodificador permite tres fórmulas para limitar espacialmente la búsqueda: país, rectángulo y círculo.</p>
<h4 id="busqueda-por-paises">Búsqueda por países</h4>
<p>En ocasiones puede ser necesario que los resultados de una búsqueda correspondan a uno o varios países en particular. Para hacer esto, es necesario establecer el valor del parámetro `boundary.country´ mediante una lista separada por comas de códigos de país alpha-2 o alpha-3 <a href="https://en.wikipedia.org/wiki/ISO_3166-1">ISO-3166 country code</a>, si bien en este caso, dicha búsqueda por paises no tendría mucho sentido ya que el geocodificador solamente contiene información de las direcciones de España </p>
<table>
<thead>
<tr>
<th>Parámetro</th>
<th>significado</th>
<th>Tipo</th>
<th>Requerido</th>
<th>Defecto</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boundary.country</code></td>
<td>listado de países separados por comas, codificados según alpha-2 o alpha-3 <a href="https://en.wikipedia.org/wiki/ISO_3166-1">ISO-3166 country code</a></td>
<td>string</td>
<td></td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<h4 id="busqueda-en-un-area-rectangular">Búsqueda en un área rectangular</h4>
<p>Para limitar la búsqueda a un área rectangular es necesario conocer las coordenadas de latitud y longitud máximas y mínimas que definen el rectángulo (2).</p>
<p>En este caso los parámetros a utilizar son los siguientes:</p>
<table>
<thead>
<tr>
<th>Parámetro</th>
<th>significado</th>
<th>Tipo</th>
<th>Requerido</th>
<th>Defecto</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boundary.rect.max_lat</code></td>
<td>valor máximo de la latitud utilizado en la búsqueda en una región rectangular</td>
<td>floating point number</td>
<td>no</td>
<td>none</td>
<td>35.81346</td>
</tr>
<tr>
<td><code>boundary.rect.max_lon</code></td>
<td>valor máximo de la longitud utilizado en la búsqueda en una región rectangular</td>
<td>floating point number</td>
<td>no</td>
<td>none</td>
<td>140.1471</td>
</tr>
<tr>
<td><code>boundary.rect.min_lat</code></td>
<td>valor mínimo de la latitud utilizado en la búsqueda en una región rectangular</td>
<td>floating point number</td>
<td>no</td>
<td>none</td>
<td>35.53308</td>
</tr>
<tr>
<td><code>boundary.rect.min_lon</code></td>
<td>valor mínimo de la longitud utilizado en la búsqueda en una región rectangular</td>
<td>floating point number</td>
<td>no</td>
<td>none</td>
<td>139.2794</td>
</tr>
</tbody>
</table>
<p>Por ejemplo, para encontrar una dirección con texto "<em>mayor</em>" dentro de un área rectangular en el entorno de la ciudad de Zaragoza, cuyo rectángulo está comprendido por las siguiente coordenadas (lon_min,lat_min,lon_max,lat_max):-1.1474,41.5453,-0.6585,41.7342</p>
<p><br />
<img alt="Rectángulo área de Zaragoza(fuente: visor klokantech.com)" src="../../img/rectangulo_zaragoza.jpg" title="Rectángulo área de Zaragoza(fuente: visor klokantech.com)" />
<br />
<br /></p>
<p>la sintaxis a utilizar sería:</p>
<p><a href="https://geocoder-5-ign.larioja.org/v1/search?text=mayor&amp;boundary.rect.min_lon=-1.1474&amp;boundary.rect.min_lat=41.5453&amp;boundary.rect.max_lon=-0.6585&amp;boundary.rect.max_lat=41.7342">https://geocoder-5-ign.larioja.org/v1/search?text=mayor&amp;boundary.rect.min_lon=-1.1474&amp;boundary.rect.min_lat=41.5453&amp;boundary.rect.max_lon=-0.6585&amp;boundary.rect.max_lat=41.7342</a></p>
<p>siendo estos los resultados obtenidos:</p>
<blockquote>
<p>CALLE MAYOR, La Muela, Zaragoza, España (1.117274,41.57985)<br />
CALLE MAYOR (MONTAÑANA), MONTAÑANA, Zaragoza, España (-0.822357,41.684245)<br />
CALLE OSA MAYOR, Zaragoza, España (0.932542,41.639184)  </p>
</blockquote>
<p><br /></p>
<hr />
<p>(1) Se aconseja implementar en el navegador web un complemento para la visualización estructurada de ficheros JSON.<br />
(2) Puede buscar un cuadro delimitador para una región conocida con <a href="https://boundingbox.klokantech.com/">esta herramienta web</a>.  </p></div>
        
        
    </div>

    <footer class="col-md-12 text-center">
        
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>

        
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
